<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ajaxTest</title>

</head>
<body>

<div ><h2 id="myDiv">使用 AJAX 修改该文本内容</h2></div>

<p><b>Status:</b><span id="asd"></span></p>

<button type="button" onclick="loadXMLDoc()">修改内容</button>

<script>
    function loadXMLDoc() {
        var xmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
            xmlhttp = new XMLHttpRequest();
        }
        else {
            // IE6, IE5 浏览器执行代码
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function () {
            // readyState -> 0: 请求未初始化 1: 服务器连接已建立 2: 请求已接收 3: 请求处理中 4: 请求已完成，且响应已就绪
            // status -> 200 请求成功 404 -> not found
            if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
                document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
                document.getElementById("asd").innerHTML = xmlhttp.status;
            }
        };
        xmlhttp.open("GET", "../../res/asd.txt?t=" + Math.random(), true);
        xmlhttp.send();


        //xmlhttp.open("POST", "../res/asd.txt", false);
        //xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        // xmlhttp.send("fname=Henry&lname=Ford");
        // 如果是同步请求, 不用使用onreadystatechange , 直接在 send 后面写逻辑即可
        //document.getElementById("myDiv").innerHTML = xmlhttp.responseText;

    }
</script>

</body>
</html>