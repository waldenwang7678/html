<HTML>
<HEAD>
    <TITLE>textarea宽度、高度自动适应处理方法</TITLE>
    <!-- 控制宽度的自动适应 -->
    <style type="text/css">
        .comments {
            /*width: 200px; !*自动适应父布局宽度*!*/
            /*word-break: break-all;*/

            /*在ie中解决断行问题(防止自动变为在一行显示，主要解决ie兼容问题，ie8中当设宽度为100%时，文本域类容超过一行时，
            当我们双击文本内容就会自动变为一行显示，所以只能用ie的专有断行属性“word-break或word-wrap”控制其断行)*/
        }

    </style>
</HEAD>

<BODY>
<ul>
    <li>
        <!-- 主要控制高度的自动适应 -->

        <!-- 第一个是普通textarea -->
        <!--<textarea class="comments" rows="10" cols="10"> </textarea>-->
        <!-- 以下两种方式都可以解决textarea行高自动适应类容的高度 -->
        <textarea class="comments" id='textarea_asd'
                  style="border:solid 1px #ccc;  height:50px; width: 200px;outline:none ;padding:5px;word-break:break-all"
                  oninput="asd()">
        </textarea>

    </li>

</ul>

<script>

    let text = document.getElementById('textarea_asd');
    console.log('text.style.height : ' + text.style.height);
    console.log('text.scrollHeight : ' + text.scrollHeight);
    // text.style.height = text.scrollHeight+"px";
    console.log('text.style.height : ' + text.style.height);

    function asd() {

        console.log('text.style.height : ' + text.style.height);
        console.log('text.scrollHeight : ' + text.scrollHeight);
        if (text.scrollHeight > 50) {
            text.style.height = text.scrollHeight + "px"
        }

        let lineLen = text.value.split(/\r?\n/).length;
        console.log('lineLen : ' + lineLen);
    }


    const crypto = require('crypto');

    const hash = crypto.createHash('md5');

    // 可任意多次调用update():
    hash.update('Hello, world!');
    hash.update('Hello, nodejs!');

    console.log('asdasd : '+hash.digest('hex'));

</script>
</BODY>
</HTML>